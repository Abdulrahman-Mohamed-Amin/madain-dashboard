<div class="container-fluid position-relative pt-4">

    <div class="d-flex justify-content-between align-items-center">
        <div class="crumbs">ููุญุฉ ุงูุชุญูู <span>โบ</span> ุฅุถุงูุฉ ููุน ูุดุฑูุน</div>
        <button class="main_button_outline" routerLink="/dashboard/add_project"><i class="fas fa-plus"></i> ุงุถุงูุฉ
            ูุดุฑูุน</button>
    </div>

    <h3 class="text-center mt-5">ุงุถุงูุฉ ููุน ูุดุฑูุน</h3>
    <form [formGroup]="addForm" (ngSubmit)="submit()">
        <div class="row p-5 ">

            <div class="col-6">
                <div class="mb-3">
                    <label for="name" class="form-label">ุงุณู ุงูููุน ุจุงูุนุฑุจู<span>*</span></label>
                    <input type="email" class="form-control" id="name" formControlName="arName"
                        [class.invalid]="(submitted && addForm.get('arName')?.invalid) && addForm.get('arName')?.touched">
                    @if(addForm.get('arName')?.errors?.['pattern']){
                    <div class="error">ูุบุฉ ุงูุงุฏุฎุงู ุงูุตุญูุญุฉ ูู ุงูุนุฑุจูุฉ</div>
                    }
                </div>
            </div>

            <div class="col-6">
                <div class="mb-3">
                    <label for="enName" class="form-label">ุงุณู ุงูููุน ุจุงูุงูุฌููุฒู<span>*</span></label>
                    <input type="email" class="form-control " id="enName" formControlName="enName"
                        [class.invalid]="(submitted && addForm.get('enName')?.invalid) && addForm.get('enName')?.touched">
                    @if(addForm.get('enName')?.errors?.['pattern']){
                    <div class="error">ูุบุฉ ุงูุงุฏุฎุงู ุงูุตุญูุญุฉ ูู ุงูุงูุฌููุฒูุฉ</div>
                    }
                </div>
            </div>

            <button class="main_button">ุงุฑุณุงู</button>
        </div>

    </form>

    <div class="lay" [ngClass]="{'open' : showEditForm}"></div>

    <form [formGroup]="editForm" (ngSubmit)="edit()" class="editForm" [ngClass]="{'open' : showEditForm}">
        <i class="fas fa-xmark close" (click)="showEditForm = false"></i>
        <h2 class="text-center mt-4">ุชุนุฏูู ุงูููุน</h2>
        <div class="row p-5 ">

            <div class="col-6">
                <div class="mb-3">
                    <label for="name" class="form-label">ุงุณู ุงูููุน ุจุงูุนุฑุจู<span>*</span></label>
                    <input type="email" class="form-control" id="name" formControlName="arName"
                        [class.invalid]="( editForm.get('arName')?.invalid) && editForm.get('arName')?.touched">
                    @if(editForm.get('arName')?.errors?.['pattern']){
                    <div class="error">ูุบุฉ ุงูุงุฏุฎุงู ุงูุตุญูุญุฉ ูู ุงูุนุฑุจูุฉ</div>
                    }
                </div>
            </div>

            <div class="col-6">
                <div class="mb-3">
                    <label for="enName" class="form-label">ุงุณู ุงูููุน ุจุงูุงูุฌููุฒู<span>*</span></label>
                    <input type="email" class="form-control " id="enName" formControlName="enName"
                        [class.invalid]="(editForm.get('enName')?.invalid) && editForm.get('enName')?.touched">
                    @if(editForm.get('enName')?.errors?.['pattern']){
                    <div class="error">ูุบุฉ ุงูุงุฏุฎุงู ุงูุตุญูุญุฉ ูู ุงูุงูุฌููุฒูุฉ</div>
                    }
                </div>
            </div>

            <button class="main_button">ุชุนุฏูู</button>
        </div>

    </form>
</div>


<h2 class="text-center mt-5">ุงูุงููุงุน ุงูููุฌูุฏุฉ</h2>
<div class="dash-wrap  container">
    <div class="data-card">
        <div class="table-responsive">
            <table class="table-modern">
                <thead>
                    <tr>
                        <th style="width: 90px" class="text-center">ID</th>
                        <th>NAME</th>
                        <th style="width: 220px" class="text-end">ACTIONS</th>
                    </tr>
                </thead>

                <tbody>
                    @if (types.length > 0) {
                    @for (item of types; track $index) {
                    <tr>
                        <td class="text-center" data-label="ุงูุฑูู">
                            <span class="id-pill">{{ $index + 1 }}</span>
                        </td>

                        <td data-label="ุงูุงุณู">
                            <div class="name">{{ item.arName }}</div>
                            @if (item.enName) {
                            <div class="meta">{{ item.enName }}</div>
                            }
                        </td>

                        <td class="text-end" data-label="ุงูุฅุฌุฑุงุกุงุช">
                            <div class="actions">
                                <button class="btn-action edit" (click)="edit()">
                                    <span class="dot">โ</span> ุชุนุฏูู
                                </button>

                                <button class="btn-action delete" (click)="deleteType(item.id , $index)">
                                    <span class="dot">๐</span> ุญุฐู
                                </button>
                            </div>
                        </td>
                    </tr>
                    }
                    } @else {
                    <tr>
                        <td colspan="3">
                            <div class="empty">
                                <div class="box">๐ฆ</div>
                                <div class="title">ูุง ุชูุฌุฏ ุจูุงูุงุช</div>
                                <div>ุงุจุฏุฃ ุจุฅุถุงูุฉ ุนูุตุฑ ุฌุฏูุฏ .</div>
                            </div>
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

</div>